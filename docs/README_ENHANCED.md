# ğŸ¤– AI ìë™í™” í—ˆë¸Œ - ì™„ì „ í†µí•©ç‰ˆ

> **Telegram + Google Drive + Gmail + Calendar + Notion + Slack + n8n + Gemini AI**
>
> ëª¨ë“  ìë™í™” ëª¨ë“ˆì„ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ìœ¼ë¡œ í†µí•©í•œ ì™„ì „ ìë™í™” ì‹œìŠ¤í…œ

---

## âœ¨ ì „ì²´ ê¸°ëŠ¥ ëª©ë¡

### ğŸ“± **Telegram Bot**
- âœ… í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ë¶„ì„ ë° ìš”ì•½
- âœ… ğŸ¤ ìŒì„± ë©”ì‹œì§€ â†’ í…ìŠ¤íŠ¸ ë³€í™˜ â†’ Gemini ë¶„ì„
- âœ… ğŸ–¼ï¸ ì´ë¯¸ì§€ ë¶„ì„ (Gemini Vision)
- âœ… ğŸ“„ ë¬¸ì„œ ì²˜ë¦¬ (PDF/DOCX/TXT) â†’ í…ìŠ¤íŠ¸ ì¶”ì¶œ â†’ ìš”ì•½

### ğŸ“‚ **Google Drive ìë™ ê°ì‹œ**
- âœ… ì§€ì • í´ë”ë¥¼ 60ì´ˆë§ˆë‹¤ í´ë§
- âœ… ìƒˆ íŒŒì¼ ê°ì§€ â†’ ìë™ ë‹¤ìš´ë¡œë“œ
- âœ… íŒŒì¼ í˜•ì‹ë³„ ìë™ ë¶„ì„ (ì´ë¯¸ì§€, ì˜¤ë””ì˜¤, ë¬¸ì„œ)
- âœ… ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€ (processed_files.json)
- âœ… ë¶„ì„ ê²°ê³¼ â†’ Telegram + Notion + n8n ì „ì†¡

### ğŸ“§ **Gmail ìë™ ê°ì‹œ**
- âœ… ìƒˆ ë©”ì¼ ìë™ ê°ì§€
- âœ… ì œëª©, ë°œì‹ ì, ë³¸ë¬¸ â†’ Gemini ë¶„ì„
- âœ… ì¤‘ìš” ë©”ì¼ ë¶„ë¥˜ ë° ìš”ì•½
- âœ… ê²°ê³¼ â†’ Telegram + Slack + Notion + n8n ì „ì†¡

### ğŸ“… **Google Calendar ìë™ ê´€ë¦¬**
- âœ… 1ì‹œê°„ ë‚´ íšŒì˜ ìë™ ê°ì§€
- âœ… 10ë¶„ ì „ ìë™ ë¦¬ë§ˆì¸ë”
- âœ… íšŒì˜ ì •ë³´ â†’ Gemini ë¸Œë¦¬í•‘
- âœ… ë¦¬ë§ˆì¸ë” â†’ Telegram + Slack ì „ì†¡

### ğŸ’¬ **Slack ì—°ë™**
- âœ… ì±„ë„ ëª¨ë‹ˆí„°ë§
- âœ… "@analyze" íŠ¸ë¦¬ê±° ê°ì§€
- âœ… ë©”ì‹œì§€ ë¶„ì„ í›„ íšŒì‹ 
- âœ… ë¶„ì„ ê²°ê³¼ â†’ Telegram + Notion + n8n ì „ì†¡

### ğŸ“ **Notion ìë™ ê¸°ë¡**
- âœ… ë¶„ì„ ê²°ê³¼ ìë™ í˜ì´ì§€ ìƒì„±
- âœ… ì†ŒìŠ¤ë³„ ë¶„ë¥˜ (Gmail, Drive, Calendar, etc.)
- âœ… ë©”íƒ€ë°ì´í„° ìë™ ê¸°ë¡ (ë‚ ì§œ, ë°œì‹ ì, etc.)
- âœ… ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì— ë§ê²Œ ì €ì¥

### ğŸ”— **n8n ì›Œí¬í”Œë¡œìš° ì—°ë™**
- âœ… ëª¨ë“  ë¶„ì„ ê²°ê³¼ë¥¼ JSONìœ¼ë¡œ ì „ì†¡
- âœ… ì™¸ë¶€ ìë™í™” ì›Œí¬í”Œë¡œìš° íŠ¸ë¦¬ê±°
- âœ… CRM, ERP ë“± ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
.
â”œâ”€â”€ main_enhanced.py                    # ğŸ¯ ë©”ì¸ ì‹¤í–‰ íŒŒì¼ (ëª¨ë“  ëª¨ë“ˆ í†µí•©)
â”œâ”€â”€ main.py                            # ğŸ“± ê¸°ë³¸ Telegram Bot + Drive
â”œâ”€â”€ requirements.txt                   # ğŸ“¦ ëª¨ë“  ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ .env.example                      # ğŸ”‘ í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .env                              # ğŸ’¼ ì‹¤ì œ í™˜ê²½ë³€ìˆ˜ (ì§ì ‘ ìƒì„±)
â”œâ”€â”€ README.md                          # ğŸ“– ê¸°ë³¸ ê°€ì´ë“œ
â”œâ”€â”€ README_ENHANCED.md                 # ğŸ“– ì´ íŒŒì¼
â”‚
â”œâ”€â”€ modules/                           # ğŸ“ ëª¨ë“ˆ ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ gemini_client.py              # ğŸ§  ì¤‘ì•™ Gemini í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ gmail_watcher.py              # ğŸ“§ Gmail ê°ì‹œ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ calendar_checker.py           # ğŸ“… Calendar ê°ì‹œ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ slack_handler.py              # ğŸ’¬ Slack ì—°ë™ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ notion_updater.py             # ğŸ“ Notion ê¸°ë¡ ëª¨ë“ˆ
â”‚   â””â”€â”€ n8n_connector.py              # ğŸ”— n8n ì—°ë™ ëª¨ë“ˆ
â”‚
â””â”€â”€ Generated Files/
    â”œâ”€â”€ service_account.json          # ğŸ” Google ì„œë¹„ìŠ¤ ê³„ì • (ë‹¤ìš´ë¡œë“œ)
    â”œâ”€â”€ gmail_credentials.json        # ğŸ” Gmail OAuth2 (ë‹¤ìš´ë¡œë“œ)
    â”œâ”€â”€ gmail_token.json              # ğŸ” Gmail í† í° (ìë™ ìƒì„±)
    â”œâ”€â”€ processed_files.json          # ğŸ“Š ì²˜ë¦¬ëœ íŒŒì¼ ëª©ë¡ (ìë™ ìƒì„±)
    â””â”€â”€ automation_hub.log            # ğŸ“œ í†µí•© ë¡œê·¸ íŒŒì¼ (ìë™ ìƒì„±)
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1ï¸âƒ£ **ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
pip install -r requirements.txt
```

### 2ï¸âƒ£ **FFmpeg ì„¤ì¹˜** (ìŒì„± íŒŒì¼ ì²˜ë¦¬ìš©)

**Ubuntu/Debian:**
```bash
sudo apt-get install ffmpeg
```

**Windows:**
- https://ffmpeg.org/download.html ì—ì„œ ë‹¤ìš´ë¡œë“œ í›„ ì„¤ì¹˜

**macOS:**
```bash
brew install ffmpeg
```

### 3ï¸âƒ£ **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**

```bash
# .env.exampleì„ .envë¡œ ë³µì‚¬
cp .env.example .env

# .env íŒŒì¼ í¸ì§‘
nano .env  # ë˜ëŠ” vim/code/etc.
```

**ìµœì†Œ í•„ìˆ˜ ê°’:**
```env
GEMINI_API_KEY=your_gemini_api_key
TELEGRAM_TOKEN=your_telegram_token
OWNER_ID=your_telegram_user_id
```

### 4ï¸âƒ£ **Google API ì„¤ì •** (ì˜µì…˜)

#### 4-1. Google Cloud Console í”„ë¡œì íŠ¸ ìƒì„±
1. https://console.cloud.google.com/ ì ‘ì†
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. **APIs & Services > Library** ì´ë™
4. ë‹¤ìŒ API í™œì„±í™”:
   - Google Drive API
   - Gmail API
   - Google Calendar API

#### 4-2. ì„œë¹„ìŠ¤ ê³„ì • ìƒì„± (Drive/Calendarìš©)
1. **APIs & Services > Credentials** ì´ë™
2. **Create Credentials > Service account** í´ë¦­
3. ì´ë¦„ ì…ë ¥ â†’ **Create** â†’ **Done**
4. ìƒì„±ëœ ì„œë¹„ìŠ¤ ê³„ì • í´ë¦­ â†’ **Keys** íƒ­
5. **Add Key > Create new key > JSON** ì„ íƒ
6. ë‹¤ìš´ë¡œë“œ â†’ `service_account.json`ìœ¼ë¡œRename

#### 4-3. OAuth2 í´ë¼ì´ì–¸íŠ¸ ìƒì„± (Gmailìš©)
1. **Credentials** í˜ì´ì§€ì—ì„œ **Create Credentials > OAuth client ID**
2. Application type: **Desktop application**
3. ì´ë¦„ ì…ë ¥ â†’ **Create**
4. ë‹¤ìš´ë¡œë“œ â†’ `gmail_credentials.json`ìœ¼ë¡œRename

#### 4-4. Google Drive í´ë” ê³µìœ 
1. ê°ì‹œí•  í´ë” ìƒì„±
2. í´ë” ê³µìœ  â†’ ì„œë¹„ìŠ¤ ê³„ì • ì´ë©”ì¼ ì¶”ê°€ (**Editor** ê¶Œí•œ)
3. í´ë” URLì—ì„œ Folder ID ë³µì‚¬
   - ì˜ˆ: `https://drive.google.com/drive/folders/{FOLDER_ID}`

#### 4-5. .envì— ê°’ ì„¤ì •
```env
GOOGLE_SERVICE_JSON_PATH=service_account.json
DRIVE_FOLDER_ID=your_actual_folder_id
GMAIL_CLIENT_SECRET_PATH=gmail_credentials.json
GOOGLE_CALENDAR_ID=primary  # ë˜ëŠ” calendar ID
```

### 5ï¸âƒ£ **Slack ì„¤ì •** (ì˜µì…˜)

1. https://api.slack.com/apps ì—ì„œ ì•± ìƒì„±
2. **OAuth & Permissions** ì—ì„œ Bot Token Scopes ì¶”ê°€:
   - `channels:history`
   - `chat:write`
   - `files:read`
3. **Bot User OAuth Token** ë³µì‚¬
4. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì•± ì„¤ì¹˜
5. ì±„ë„ ID í™•ì¸ (ì±„ë„ ìš°í´ë¦­ â†’ Copy link â†’ URLì—ì„œ ID ì¶”ì¶œ)
6. .envì— ì„¤ì •:
```env
SLACK_BOT_TOKEN=xoxb-your-token
SLACK_CHANNEL_ID=C1234567890
```

### 6ï¸âƒ£ **Notion ì„¤ì •** (ì˜µì…˜)

1. https://www.notion.so/my-integrations ì ‘ì†
2. **New integration** í´ë¦­
3. ì´ë¦„ ì…ë ¥ â†’ **Submit**
4. **Internal Integration Token** ë³µì‚¬
5. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë˜ëŠ” ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©
6. .envì— ì„¤ì •:
```env
NOTION_TOKEN=secret_your_token
NOTION_DATABASE_ID=your_database_id
```

### 7ï¸âƒ£ **n8n ì„¤ì •** (ì˜µì…˜)

1. n8nì—ì„œ **Webhook Trigger** ë…¸ë“œ ìƒì„±
2. Webhook URL ë³µì‚¬
3. .envì— ì„¤ì •:
```env
N8N_WEBHOOK_URL=https://your-n8n.com/webhook/ai-summary
N8N_API_KEY=your_api_key  # í•„ìš”ì‹œ
```

---

## ğŸ¯ ì‹¤í–‰ ë°©ë²•

### ì „ì²´ ê¸°ëŠ¥ ì‹¤í–‰ (ê¶Œì¥)

```bash
python main_enhanced.py
```

### ê¸°ë³¸ Telegram Botë§Œ ì‹¤í–‰

```bash
python main.py
```

### ì½˜ì†” ì¶œë ¥ í™•ì¸

```
============================================================
ğŸ¤– AI ìë™í™” í—ˆë¸Œ ì‹œì‘
============================================================
âœ… Gemini AI initialized
âœ… Google Drive service initialized
âœ… Gmail watcher started
âœ… Calendar checker started
âœ… Slack watcher started
âœ… All modules initialized
ğŸ“¡ Starting Telegram bot polling...
============================================================
```

---

## ğŸ“Š ëª¨ë“ˆë³„ ìë™ ì‹¤í–‰ ë¡œê·¸

### Google Drive
```
[Drive] Found 2 new file(s)
[Drive] New file: quarterly_report.pdf
[Gemini] Analyzing file: quarterly_report.pdf
[Drive] Completed: quarterly_report.pdf
ğŸ“± Telegram message sent
```

### Gmail
```
[Gmail] Found 1 new email(s)
[Gmail] Processing email ID: 12345
[Gemini] Analyzing email: Project Update
[Telegram] Email analysis sent
[Slack] Email analysis sent
```

### Calendar
```
[Calendar] Found 1 upcoming meeting(s)
[Calendar] Meeting: Weekly Standup in 5 minutes
[Telegram] Calendar reminder sent
[Slack] Calendar reminder sent
```

### Slack
```
[Slack] Analyzing message: @analyze this report
[Gemini] Analyzing Slack message
[Telegram] Slack analysis sent
```

---

## ğŸ”§ ê³ ê¸‰ ì„¤ì •

### í´ë§ ì£¼ê¸° ë³€ê²½

ê° ëª¨ë“ˆì˜ `time.sleep()` ê°’ ìˆ˜ì •:

**gmail_watcher.py:**
```python
time.sleep(120)  # 2ë¶„ â†’ ì›í•˜ëŠ” ì‹œê°„(ì´ˆ)
```

**drive_watcher_thread (main_enhanced.py):**
```python
time.sleep(60)  # 1ë¶„ â†’ ì›í•˜ëŠ” ì‹œê°„(ì´ˆ)
```

**calendar_checker.py:**
```python
time.sleep(300)  # 5ë¶„ â†’ ì›í•˜ëŠ” ì‹œê°„(ì´ˆ)
```

**slack_watcher_thread:**
```python
time.sleep(30)  # 30ì´ˆ â†’ ì›í•˜ëŠ” ì‹œê°„(ì´ˆ)
```

### Gemini ëª¨ë¸ ë³€ê²½

`main_enhanced.py`ì—ì„œ:
```python
model = genai.GenerativeModel('gemini-1.5-pro')  # ë˜ëŠ” 'gemini-1.5-flash'
```

### ë¡œê·¸ ë ˆë²¨ ì¡°ì •

`main_enhanced.py`ì—ì„œ:
```python
logging.basicConfig(
    level=logging.INFO,  # DEBUG, INFO, WARNING, ERROR
    ...
)
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### "ModuleNotFoundError"

```bash
pip install -r requirements.txt
```

### "FFmpeg not found"

FFmpegë¥¼ PATHì— ì¶”ê°€í•˜ê±°ë‚˜ ì„¤ì¹˜:
```bash
# Ubuntu/Debian
sudo apt-get install ffmpeg

# macOS
brew install ffmpeg

# Windows
# https://ffmpeg.org/download.html ì—ì„œ ë‹¤ìš´ë¡œë“œ í›„ PATH ì¶”ê°€
```

### Gmail ì¸ì¦ ì˜¤ë¥˜

1. `gmail_credentials.json` í™•ì¸
2. ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì—´ë¦¬ê³  Gmail ê¶Œí•œ í—ˆìš©
3. `gmail_token.json` ìƒì„± í™•ì¸

### Google Drive ì ‘ê·¼ ì˜¤ë¥˜

1. ì„œë¹„ìŠ¤ ê³„ì •ì´ í´ë”ì— **Editor** ê¶Œí•œìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. Folder IDê°€ ì •í™•í•œì§€ í™•ì¸
3. `service_account.json` ê²½ë¡œê°€ ì •í™•í•œì§€ í™•ì¸

### Slack ì—°ë™ ì˜¤ë¥˜

1. Bot Tokenì´ ì •í™•í•œì§€ í™•ì¸
2. ì±„ë„ IDê°€ ì •í™•í•œì§€ í™•ì¸
3. Botì´ ì±„ë„ì— ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸

### Notion ì—°ë™ ì˜¤ë¥˜

1. Integrationì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸
2. ë°ì´í„°ë² ì´ìŠ¤ IDê°€ ì •í™•í•œì§€ í™•ì¸
3. Property namesì´ Notion ë°ì´í„°ë² ì´ìŠ¤ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

---

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¤„ì´ê¸°**

```python
# í° íŒŒì¼ì„ ì²­í¬ë¡œ ì²˜ë¦¬
for chunk in read_large_file_chunks(file_path):
    process_chunk(chunk)
```

### 2. **ë™ì‹œ ì‹¤í–‰ ìˆ˜ ì œí•œ**

```python
# ThreadPoolExecutorë¡œ ì œí•œ
from concurrent.futures import ThreadPoolExecutor

with ThreadPoolExecutor(max_workers=3) as executor:
    futures = [executor.submit(process_file, f) for f in files]
    for future in futures:
        future.result()
```

### 3. **ìºì‹± í™œìš©**

```python
#Redisë‚˜ ë©”ëª¨ë¦¬ ìºì‹œë¡œ ì¤‘ë³µ API í˜¸ì¶œ ë°©ì§€
from functools import lru_cache

@lru_cache(maxsize=100)
def analyze_text_cached(text_hash):
    return analyze_text(text)
```

---

## ğŸ” ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

1. **ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬**
   - API í‚¤ë¥¼ ì½”ë“œì— ì§ì ‘ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”
   - `.env` íŒŒì¼ì„ `.gitignore`ì— ì¶”ê°€

2. **ì„œë¹„ìŠ¤ ê³„ì • ê¶Œí•œ ìµœì†Œí™”**
   - í•„ìš”í•œ APIë§Œ í™œì„±í™”
   - ì„œë¹„ìŠ¤ ê³„ì •ì— ìµœì†Œí•œì˜ ê¶Œí•œë§Œ ë¶€ì—¬

3. ** secrets ê´€ë¦¬**
   - í”„ë¡œë•ì…˜ì—ì„œëŠ” AWS Secrets Manager, GCP Secret Manager ë“± ì‚¬ìš©
   - Docker secrets í™œìš©

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, PR ë“±ì€ ì–¸ì œë“  í™˜ì˜í•©ë‹ˆë‹¤!

---

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ìˆìœ¼ì‹œë©´:
1. `automation_hub.log` íŒŒì¼ í™•ì¸
2. GitHub Issuesì— ë¬¸ì œä¸ŠæŠ¥
3.è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œé‡ç°æ­¥éª¤ ì œê³µ

---

## ğŸ‰ ì™„ì„±ëœ ìë™í™” í—ˆë¸Œ

ì´ì œ í•œ ë²ˆì˜ ì‹¤í–‰ìœ¼ë¡œ:

âœ… **ëª¨ë“  ì±„ë„ í†µí•©** - Telegram, Gmail, Drive, Calendar, Slack
âœ… **AI ìë™ ë¶„ì„** - Geminiê°€ ëª¨ë“  ì½˜í…ì¸  ë¶„ì„
âœ… **ì¦‰ì‹œ ì•Œë¦¼** - ê²°ê³¼ë¥¼ ì¦‰ì‹œæ¨é€ (Telegram, Slack)
âœ… **ìë™ ê¸°ë¡** - Notionì— ì²´ê³„ì ìœ¼ë¡œ ì €ì¥
âœ… **ì™¸ë¶€ ì—°ë™** - n8nìœ¼ë¡œ ì›Œí¬í”Œë¡œìš° ìë™í™”

**ë©”ìš° ì§„í™”ëœ AI ìë™í™” ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸš€
